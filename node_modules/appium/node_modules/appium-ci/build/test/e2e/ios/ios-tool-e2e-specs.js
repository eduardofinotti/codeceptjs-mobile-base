require('source-map-support').install();

'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _ = require('../../..');

var _chai = require('chai');

var _chai2 = _interopRequireDefault(_chai);

var _chaiAsPromised = require('chai-as-promised');

var _chaiAsPromised2 = _interopRequireDefault(_chaiAsPromised);

_chai2['default'].should();
_chai2['default'].use(_chaiAsPromised2['default']);

describe('ios tools e2e', function () {

  it('spawn as user', function callee$1$0() {
    var proc;
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(_.iosTools.spawnAsUser('appium', 'ls', ['-l']));

        case 2:
          proc = context$2$0.sent;

          proc.kill();

        case 4:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this);
  });

  it('spawn as current user', function callee$1$0() {
    var proc;
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(_.iosTools.spawnAsUser('ls', ['-l']));

        case 2:
          proc = context$2$0.sent;

          proc.kill();

        case 4:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this);
  });

  it('set simulator scale', function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(_.iosTools.setIosSimulatorScale());

        case 2:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this);
  });

  it('set configure xCode', function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(_.iosTools.configureXcode('6.1.1'));

        case 2:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this);
  });

  it('reset simulators', function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(_.iosTools.resetSims());

        case 2:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this);
  });

  it('kill all', function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap(_.iosTools.killAll());

        case 2:
          context$2$0.next = 4;
          return _regeneratorRuntime.awrap(_.iosTools.killAll('ls'));

        case 4:
          context$2$0.next = 6;
          return _regeneratorRuntime.awrap(_.iosTools.killAll(['ls', 'echo']));

        case 6:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this);
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZTJlL2lvcy9pb3MtdG9vbC1lMmUtc3BlY3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Z0JBRXlCLFVBQVU7O29CQUNsQixNQUFNOzs7OzhCQUNJLGtCQUFrQjs7OztBQUc3QyxrQkFBSyxNQUFNLEVBQUUsQ0FBQztBQUNkLGtCQUFLLEdBQUcsNkJBQWdCLENBQUM7O0FBRXpCLFFBQVEsQ0FBQyxlQUFlLEVBQUUsWUFBWTs7QUFFcEMsSUFBRSxDQUFDLGVBQWUsRUFBRTtRQUNkLElBQUk7Ozs7OzJDQUFTLFdBQVMsV0FBVyxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQzs7O0FBQXpELGNBQUk7O0FBQ1IsY0FBSSxDQUFDLElBQUksRUFBRSxDQUFDOzs7Ozs7O0dBQ2IsQ0FBQyxDQUFDOztBQUVILElBQUUsQ0FBQyx1QkFBdUIsRUFBRTtRQUN0QixJQUFJOzs7OzsyQ0FBUyxXQUFTLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQzs7O0FBQS9DLGNBQUk7O0FBQ1IsY0FBSSxDQUFDLElBQUksRUFBRSxDQUFDOzs7Ozs7O0dBQ2IsQ0FBQyxDQUFDOztBQUVILElBQUUsQ0FBQyxxQkFBcUIsRUFBRTs7Ozs7MkNBQ2xCLFdBQVMsb0JBQW9CLEVBQUU7Ozs7Ozs7R0FDdEMsQ0FBQyxDQUFDOztBQUVILElBQUUsQ0FBQyxxQkFBcUIsRUFBRTs7Ozs7MkNBQ2xCLFdBQVMsY0FBYyxDQUFDLE9BQU8sQ0FBQzs7Ozs7OztHQUN2QyxDQUFDLENBQUM7O0FBRUgsSUFBRSxDQUFDLGtCQUFrQixFQUFFOzs7OzsyQ0FDZixXQUFTLFNBQVMsRUFBRTs7Ozs7OztHQUMzQixDQUFDLENBQUM7O0FBRUgsSUFBRSxDQUFDLFVBQVUsRUFBRTs7Ozs7MkNBQ1AsV0FBUyxPQUFPLEVBQUU7Ozs7MkNBQ2xCLFdBQVMsT0FBTyxDQUFDLElBQUksQ0FBQzs7OzsyQ0FDdEIsV0FBUyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7Ozs7Ozs7R0FDdkMsQ0FBQyxDQUFDO0NBRUosQ0FBQyxDQUFDIiwiZmlsZSI6InRlc3QvZTJlL2lvcy9pb3MtdG9vbC1lMmUtc3BlY3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0cmFuc3BpbGU6bW9jaGFcblxuaW1wb3J0IHsgaW9zVG9vbHMgfSBmcm9tICcuLi8uLi8uLic7XG5pbXBvcnQgY2hhaSBmcm9tICdjaGFpJztcbmltcG9ydCBjaGFpQXNQcm9taXNlZCBmcm9tICdjaGFpLWFzLXByb21pc2VkJztcblxuXG5jaGFpLnNob3VsZCgpO1xuY2hhaS51c2UoY2hhaUFzUHJvbWlzZWQpO1xuXG5kZXNjcmliZSgnaW9zIHRvb2xzIGUyZScsIGZ1bmN0aW9uICgpIHtcblxuICBpdCgnc3Bhd24gYXMgdXNlcicsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcHJvYyA9IGF3YWl0IGlvc1Rvb2xzLnNwYXduQXNVc2VyKCdhcHBpdW0nLCAnbHMnLCBbJy1sJ10pO1xuICAgIHByb2Mua2lsbCgpO1xuICB9KTtcblxuICBpdCgnc3Bhd24gYXMgY3VycmVudCB1c2VyJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGxldCBwcm9jID0gYXdhaXQgaW9zVG9vbHMuc3Bhd25Bc1VzZXIoJ2xzJywgWyctbCddKTtcbiAgICBwcm9jLmtpbGwoKTtcbiAgfSk7XG5cbiAgaXQoJ3NldCBzaW11bGF0b3Igc2NhbGUnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgYXdhaXQgaW9zVG9vbHMuc2V0SW9zU2ltdWxhdG9yU2NhbGUoKTtcbiAgfSk7XG5cbiAgaXQoJ3NldCBjb25maWd1cmUgeENvZGUnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgYXdhaXQgaW9zVG9vbHMuY29uZmlndXJlWGNvZGUoJzYuMS4xJyk7XG4gIH0pO1xuXG4gIGl0KCdyZXNldCBzaW11bGF0b3JzJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGF3YWl0IGlvc1Rvb2xzLnJlc2V0U2ltcygpO1xuICB9KTtcblxuICBpdCgna2lsbCBhbGwnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgYXdhaXQgaW9zVG9vbHMua2lsbEFsbCgpO1xuICAgIGF3YWl0IGlvc1Rvb2xzLmtpbGxBbGwoJ2xzJyk7XG4gICAgYXdhaXQgaW9zVG9vbHMua2lsbEFsbChbJ2xzJywgJ2VjaG8nXSk7XG4gIH0pO1xuXG59KTtcbiJdLCJzb3VyY2VSb290IjoiLi4vLi4vLi4vLi4ifQ==
