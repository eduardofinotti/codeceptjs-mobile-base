'use strict';

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _chai = require('chai');

var _chai2 = _interopRequireDefault(_chai);

var _chaiAsPromised = require('chai-as-promised');

var _chaiAsPromised2 = _interopRequireDefault(_chaiAsPromised);

var _libEspressoRunner = require('../../lib/espresso-runner');

_chai2['default'].should();
_chai2['default'].use(_chaiAsPromised2['default']);
var expect = _chai2['default'].expect;

describe('espresso-runner', function () {
  function getOpts(params) {
    var opts = {};
    for (var j = 0; j < params.length; j++) {
      opts[params[j]] = 'value';
    }
    return opts;
  }
  describe('constructor', function () {
    function runConstructorTest(opts, missingParam) {
      it('should error out if missing \'' + missingParam + '\' parameter', function () {
        expect(function () {
          new _libEspressoRunner.EspressoRunner(opts);
        }).to['throw']('Option \'' + missingParam + '\' is required!');
      });
    }

    var _loop = function (i) {
      var params = _libEspressoRunner.REQUIRED_PARAMS.filter(function (el) {
        return el !== _libEspressoRunner.REQUIRED_PARAMS[i];
      });
      var opts = getOpts(params);
      runConstructorTest(opts, _libEspressoRunner.REQUIRED_PARAMS[i]);
    };

    for (var i = 0; i < _libEspressoRunner.REQUIRED_PARAMS.length; i++) {
      _loop(i);
    }
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvdW5pdC9lc3ByZXNzby1ydW5uZXItc3BlY3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztvQkFBaUIsTUFBTTs7Ozs4QkFDSSxrQkFBa0I7Ozs7aUNBQ0csMkJBQTJCOztBQUczRSxrQkFBSyxNQUFNLEVBQUUsQ0FBQztBQUNkLGtCQUFLLEdBQUcsNkJBQWdCLENBQUM7QUFDekIsSUFBTSxNQUFNLEdBQUcsa0JBQUssTUFBTSxDQUFDOztBQUUzQixRQUFRLENBQUMsaUJBQWlCLEVBQUUsWUFBWTtBQUN0QyxXQUFTLE9BQU8sQ0FBRSxNQUFNLEVBQUU7QUFDeEIsUUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQ2QsU0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDdEMsVUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQztLQUMzQjtBQUNELFdBQU8sSUFBSSxDQUFDO0dBQ2I7QUFDRCxVQUFRLENBQUMsYUFBYSxFQUFFLFlBQVk7QUFDbEMsYUFBUyxrQkFBa0IsQ0FBRSxJQUFJLEVBQUUsWUFBWSxFQUFFO0FBQy9DLFFBQUUsb0NBQWlDLFlBQVksbUJBQWUsWUFBWTtBQUN4RSxjQUFNLENBQUMsWUFBWTtBQUNqQixnREFBbUIsSUFBSSxDQUFDLENBQUM7U0FDMUIsQ0FBQyxDQUFDLEVBQUUsU0FBTSxlQUFZLFlBQVkscUJBQWlCLENBQUM7T0FDdEQsQ0FBQyxDQUFDO0tBQ0o7OzBCQUNRLENBQUM7QUFDUixVQUFJLE1BQU0sR0FBRyxtQ0FBZ0IsTUFBTSxDQUFDLFVBQUMsRUFBRTtlQUFLLEVBQUUsS0FBSyxtQ0FBZ0IsQ0FBQyxDQUFDO09BQUEsQ0FBQyxDQUFDO0FBQ3ZFLFVBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMzQix3QkFBa0IsQ0FBQyxJQUFJLEVBQUUsbUNBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7OztBQUgvQyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsbUNBQWdCLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUF4QyxDQUFDO0tBSVQ7R0FDRixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoidGVzdC91bml0L2VzcHJlc3NvLXJ1bm5lci1zcGVjcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0IGNoYWlBc1Byb21pc2VkIGZyb20gJ2NoYWktYXMtcHJvbWlzZWQnO1xuaW1wb3J0IHsgRXNwcmVzc29SdW5uZXIsIFJFUVVJUkVEX1BBUkFNUyB9IGZyb20gJy4uLy4uL2xpYi9lc3ByZXNzby1ydW5uZXInO1xuXG5cbmNoYWkuc2hvdWxkKCk7XG5jaGFpLnVzZShjaGFpQXNQcm9taXNlZCk7XG5jb25zdCBleHBlY3QgPSBjaGFpLmV4cGVjdDtcblxuZGVzY3JpYmUoJ2VzcHJlc3NvLXJ1bm5lcicsIGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZ2V0T3B0cyAocGFyYW1zKSB7XG4gICAgbGV0IG9wdHMgPSB7fTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBhcmFtcy5sZW5ndGg7IGorKykge1xuICAgICAgb3B0c1twYXJhbXNbal1dID0gJ3ZhbHVlJztcbiAgICB9XG4gICAgcmV0dXJuIG9wdHM7XG4gIH1cbiAgZGVzY3JpYmUoJ2NvbnN0cnVjdG9yJywgZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHJ1bkNvbnN0cnVjdG9yVGVzdCAob3B0cywgbWlzc2luZ1BhcmFtKSB7XG4gICAgICBpdChgc2hvdWxkIGVycm9yIG91dCBpZiBtaXNzaW5nICcke21pc3NpbmdQYXJhbX0nIHBhcmFtZXRlcmAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXhwZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBuZXcgRXNwcmVzc29SdW5uZXIob3B0cyk7XG4gICAgICAgIH0pLnRvLnRocm93KGBPcHRpb24gJyR7bWlzc2luZ1BhcmFtfScgaXMgcmVxdWlyZWQhYCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBSRVFVSVJFRF9QQVJBTVMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBwYXJhbXMgPSBSRVFVSVJFRF9QQVJBTVMuZmlsdGVyKChlbCkgPT4gZWwgIT09IFJFUVVJUkVEX1BBUkFNU1tpXSk7XG4gICAgICBsZXQgb3B0cyA9IGdldE9wdHMocGFyYW1zKTtcbiAgICAgIHJ1bkNvbnN0cnVjdG9yVGVzdChvcHRzLCBSRVFVSVJFRF9QQVJBTVNbaV0pO1xuICAgIH1cbiAgfSk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiLi4vLi4vLi4ifQ==
