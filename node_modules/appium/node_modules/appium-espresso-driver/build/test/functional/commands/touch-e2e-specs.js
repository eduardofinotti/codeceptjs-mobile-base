'use strict';

var _slicedToArray = require('babel-runtime/helpers/sliced-to-array')['default'];

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _getIterator = require('babel-runtime/core-js/get-iterator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _chai = require('chai');

var _chai2 = _interopRequireDefault(_chai);

var _chaiAsPromised = require('chai-as-promised');

var _chaiAsPromised2 = _interopRequireDefault(_chaiAsPromised);

var _wd = require('wd');

var _wd2 = _interopRequireDefault(_wd);

var _requestPromise = require('request-promise');

var _requestPromise2 = _interopRequireDefault(_requestPromise);

var _bluebird = require('bluebird');

var _bluebird2 = _interopRequireDefault(_bluebird);

var _helpersSession = require('../helpers/session');

var _desired = require('../desired');

var _ = require('../../..');

_chai2['default'].should();
_chai2['default'].use(_chaiAsPromised2['default']);

// TODO: Add missing client features to admc/wd

describe('elementByXPath', function () {
  this.timeout(_helpersSession.MOCHA_TIMEOUT);

  var driver = undefined;
  var server = undefined;
  before(function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.next = 2;
          return _regeneratorRuntime.awrap((0, _.startServer)(_helpersSession.PORT, _helpersSession.HOST));

        case 2:
          server = context$2$0.sent;

          driver = _wd2['default'].promiseChainRemote(_helpersSession.HOST, _helpersSession.PORT);

        case 4:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this);
  });
  after(function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.prev = 0;
          context$2$0.next = 3;
          return _regeneratorRuntime.awrap(server.close());

        case 3:
          context$2$0.next = 7;
          break;

        case 5:
          context$2$0.prev = 5;
          context$2$0.t0 = context$2$0['catch'](0);

        case 7:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this, [[0, 5]]);
  });
  beforeEach(function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.prev = 0;
          context$2$0.next = 3;
          return _regeneratorRuntime.awrap(driver.init(_desired.APIDEMO_CAPS));

        case 3:
          context$2$0.next = 7;
          break;

        case 5:
          context$2$0.prev = 5;
          context$2$0.t0 = context$2$0['catch'](0);

        case 7:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this, [[0, 5]]);
  });
  afterEach(function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          context$2$0.prev = 0;
          context$2$0.next = 3;
          return _regeneratorRuntime.awrap(driver.quit());

        case 3:
          context$2$0.next = 7;
          break;

        case 5:
          context$2$0.prev = 5;
          context$2$0.t0 = context$2$0['catch'](0);

        case 7:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this, [[0, 5]]);
  });

  var idCounter = 0;

  var performTouchAction = function performTouchAction() {
    var actionsRoot,
        _iteratorNormalCompletion,
        _didIteratorError,
        _iteratorError,
        _len,
        actionsArrays,
        _key,
        _iterator,
        _step,
        actions,
        sessionId,
        options,
        args$2$0 = arguments;

    return _regeneratorRuntime.async(function performTouchAction$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          actionsRoot = [];
          _iteratorNormalCompletion = true;
          _didIteratorError = false;
          _iteratorError = undefined;
          context$2$0.prev = 4;

          for (_len = args$2$0.length, actionsArrays = Array(_len), _key = 0; _key < _len; _key++) {
            actionsArrays[_key] = args$2$0[_key];
          }

          for (_iterator = _getIterator(actionsArrays); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            actions = _step.value;

            actionsRoot.push({
              type: 'pointer',
              id: 'id_' + idCounter++,
              parameters: {
                pointerType: 'touch'
              },
              actions: actions
            });
          }

          context$2$0.next = 13;
          break;

        case 9:
          context$2$0.prev = 9;
          context$2$0.t0 = context$2$0['catch'](4);
          _didIteratorError = true;
          _iteratorError = context$2$0.t0;

        case 13:
          context$2$0.prev = 13;
          context$2$0.prev = 14;

          if (!_iteratorNormalCompletion && _iterator['return']) {
            _iterator['return']();
          }

        case 16:
          context$2$0.prev = 16;

          if (!_didIteratorError) {
            context$2$0.next = 19;
            break;
          }

          throw _iteratorError;

        case 19:
          return context$2$0.finish(16);

        case 20:
          return context$2$0.finish(13);

        case 21:
          context$2$0.next = 23;
          return _regeneratorRuntime.awrap(driver.getSessionId());

        case 23:
          sessionId = context$2$0.sent;
          options = {
            method: 'POST',
            uri: 'http://' + _helpersSession.HOST + ':' + _helpersSession.PORT + '/wd/hub/session/' + sessionId + '/actions',
            body: { actions: actionsRoot },
            json: true
          };
          return context$2$0.abrupt('return', (0, _requestPromise2['default'])(options));

        case 26:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this, [[4, 9, 13, 21], [14,, 16, 20]]);
  };

  describe('fingerpaint', function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          it('should draw the letter L on fingerpaint', function callee$2$0() {
            var canvas, _ref, x, y, touchActions;

            return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
              while (1) switch (context$3$0.prev = context$3$0.next) {
                case 0:
                  context$3$0.t0 = _regeneratorRuntime;
                  context$3$0.next = 3;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Graphics"));

                case 3:
                  context$3$0.t1 = context$3$0.sent.click();
                  context$3$0.next = 6;
                  return context$3$0.t0.awrap.call(context$3$0.t0, context$3$0.t1);

                case 6:
                  context$3$0.t2 = _regeneratorRuntime;
                  context$3$0.next = 9;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("FingerPaint"));

                case 9:
                  context$3$0.t3 = context$3$0.sent.click();
                  context$3$0.next = 12;
                  return context$3$0.t2.awrap.call(context$3$0.t2, context$3$0.t3);

                case 12:
                  context$3$0.next = 14;
                  return _regeneratorRuntime.awrap(driver.elementById("android:id/content"));

                case 14:
                  canvas = context$3$0.sent;
                  context$3$0.next = 17;
                  return _regeneratorRuntime.awrap(canvas.getLocation());

                case 17:
                  _ref = context$3$0.sent;
                  x = _ref.x;
                  y = _ref.y;
                  touchActions = [{ "type": "pointerMove", duration: 1000, x: x + 10, y: y + 10 }, { "type": "pointerDown", "button": 0 }, { "type": "pointerMove", duration: 1000, x: x + 10, y: y + 1000 }, { "type": "pause", duration: 1000 }, { "type": "pointerMove", duration: 1000, x: x + 1000, y: y + 1000 }, { "type": "pointerCancel", "button": 0 }];
                  context$3$0.next = 23;
                  return _regeneratorRuntime.awrap(performTouchAction(touchActions));

                case 23:
                case 'end':
                  return context$3$0.stop();
              }
            }, null, this);
          });

          it('should draw two parallel lines on fingerpaint', function callee$2$0() {
            var canvas, _ref2, x, y, touchActionOne, touchActionTwo;

            return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
              while (1) switch (context$3$0.prev = context$3$0.next) {
                case 0:
                  context$3$0.t0 = _regeneratorRuntime;
                  context$3$0.next = 3;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Graphics"));

                case 3:
                  context$3$0.t1 = context$3$0.sent.click();
                  context$3$0.next = 6;
                  return context$3$0.t0.awrap.call(context$3$0.t0, context$3$0.t1);

                case 6:
                  context$3$0.t2 = _regeneratorRuntime;
                  context$3$0.next = 9;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("FingerPaint"));

                case 9:
                  context$3$0.t3 = context$3$0.sent.click();
                  context$3$0.next = 12;
                  return context$3$0.t2.awrap.call(context$3$0.t2, context$3$0.t3);

                case 12:
                  context$3$0.next = 14;
                  return _regeneratorRuntime.awrap(driver.elementById("android:id/content"));

                case 14:
                  canvas = context$3$0.sent;
                  context$3$0.next = 17;
                  return _regeneratorRuntime.awrap(canvas.getLocation());

                case 17:
                  _ref2 = context$3$0.sent;
                  x = _ref2.x;
                  y = _ref2.y;
                  touchActionOne = [{ "type": "pointerMove", x: x + 10, y: y + 10 }, { "type": "pointerDown", "button": 0 }, { "type": "pointerMove", duration: 2000, x: x + 10, y: y + 1000 }, { "type": "pointerUp", "button": 0 }];
                  touchActionTwo = [{ "type": "pointerMove", x: x + 200, y: y + 10 }, { "type": "pointerDown", "button": 0 }, { "type": "pointerMove", duration: 2000, x: x + 200, y: y + 1000 }, { "type": "pointerUp", "button": 0 }];
                  context$3$0.next = 24;
                  return _regeneratorRuntime.awrap(performTouchAction(touchActionOne, touchActionTwo));

                case 24:
                case 'end':
                  return context$3$0.stop();
              }
            }, null, this);
          });

        case 2:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this);
  });

  describe('scrolling/swiping', function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          it('should scroll up menu', function callee$2$0() {
            var gcEl, _ref3, x, y, customEl, _ref4, xEnd, yEnd, actions;

            return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
              while (1) switch (context$3$0.prev = context$3$0.next) {
                case 0:
                  context$3$0.t0 = _regeneratorRuntime;
                  context$3$0.next = 3;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Views"));

                case 3:
                  context$3$0.t1 = context$3$0.sent.click();
                  context$3$0.next = 6;
                  return context$3$0.t0.awrap.call(context$3$0.t0, context$3$0.t1);

                case 6:
                  context$3$0.next = 8;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Game Controller Input"));

                case 8:
                  gcEl = context$3$0.sent;
                  context$3$0.next = 11;
                  return _regeneratorRuntime.awrap(gcEl.getLocation());

                case 11:
                  _ref3 = context$3$0.sent;
                  x = _ref3.x;
                  y = _ref3.y;
                  context$3$0.next = 16;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Custom"));

                case 16:
                  customEl = context$3$0.sent;
                  context$3$0.next = 19;
                  return _regeneratorRuntime.awrap(customEl.getLocation());

                case 19:
                  _ref4 = context$3$0.sent;
                  xEnd = _ref4.x;
                  yEnd = _ref4.y;
                  actions = [{ "type": "pointerMove", "duration": 0, x: x + 5, y: y + 5 }, { "type": "pointerDown", "button": 0 }, { "type": "pointerMove", "duration": 200, x: xEnd + 5, y: yEnd + 5 }, { "type": "pointerUp", "button": 0 }];
                  context$3$0.next = 25;
                  return _regeneratorRuntime.awrap(performTouchAction(actions));

                case 25:
                  context$3$0.next = 27;
                  return _regeneratorRuntime.awrap(driver.elementByXPath("//*[@text='ImageButton']"));

                case 27:
                case 'end':
                  return context$3$0.stop();
              }
            }, null, this);
          });

          it('should swipe up menu', function callee$2$0() {
            var gcEl, _ref5, x, y, customEl, _ref6, xEnd, yEnd, actions;

            return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
              while (1) switch (context$3$0.prev = context$3$0.next) {
                case 0:
                  context$3$0.t0 = _regeneratorRuntime;
                  context$3$0.next = 3;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Views"));

                case 3:
                  context$3$0.t1 = context$3$0.sent.click();
                  context$3$0.next = 6;
                  return context$3$0.t0.awrap.call(context$3$0.t0, context$3$0.t1);

                case 6:
                  context$3$0.next = 8;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Game Controller Input"));

                case 8:
                  gcEl = context$3$0.sent;
                  context$3$0.next = 11;
                  return _regeneratorRuntime.awrap(gcEl.getLocation());

                case 11:
                  _ref5 = context$3$0.sent;
                  x = _ref5.x;
                  y = _ref5.y;
                  context$3$0.next = 16;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Custom"));

                case 16:
                  customEl = context$3$0.sent;
                  context$3$0.next = 19;
                  return _regeneratorRuntime.awrap(customEl.getLocation());

                case 19:
                  _ref6 = context$3$0.sent;
                  xEnd = _ref6.x;
                  yEnd = _ref6.y;
                  actions = [{ "type": "pointerMove", "duration": 0, x: x + 5, y: y + 5 }, { "type": "pointerDown", "button": 0 }, { "type": "pointerMove", "duration": 100, x: xEnd + 5, y: yEnd + 5 }, { "type": "pointerUp", "button": 0 }];
                  context$3$0.next = 25;
                  return _regeneratorRuntime.awrap(performTouchAction(actions));

                case 25:
                  context$3$0.next = 27;
                  return _regeneratorRuntime.awrap(driver.elementByXPath("//*[@text='ImageButton']"));

                case 27:
                case 'end':
                  return context$3$0.stop();
              }
            }, null, this);
          });

          it('should do multiple scrolls on multiple views', function callee$2$0() {
            var _ref7, _ref72, leftEl, rightEl, leftActions, rightActions;

            return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
              while (1) switch (context$3$0.prev = context$3$0.next) {
                case 0:
                  context$3$0.next = 2;
                  return _regeneratorRuntime.awrap(driver.startActivity({ appActivity: '.view.SplitTouchView', appPackage: 'io.appium.android.apis' }));

                case 2:
                  context$3$0.next = 4;
                  return _regeneratorRuntime.awrap(driver.elementsByClassName('android.widget.ListView'));

                case 4:
                  _ref7 = context$3$0.sent;
                  _ref72 = _slicedToArray(_ref7, 2);
                  leftEl = _ref72[0];
                  rightEl = _ref72[1];
                  leftActions = [{ "type": "pointerMove", "origin": { "element-6066-11e4-a52e-4f735466cecf": leftEl.value } }, { "type": "pointerDown", "button": 0 }, { "type": "pointerMove", "origin": { "element-6066-11e4-a52e-4f735466cecf": leftEl.value }, "x": 10, "y": -500, "duration": 3000 }, { "type": "pointerMove", "origin": "pointer", "x": 10, "y": -500, "duration": 3000 }, { "type": "pointerUp", "button": 0 }];
                  rightActions = [{ "type": "pointerMove", "origin": { "element-6066-11e4-a52e-4f735466cecf": rightEl.value } }, { "type": "pointerDown", "button": 0 }, { "type": "pointerMove", "origin": { "element-6066-11e4-a52e-4f735466cecf": rightEl.value }, "x": 10, "y": -500, "duration": 3000 }, { "type": "pointerMove", "origin": "pointer", "x": 10, "y": -500, "duration": 3000 }, { "type": "pointerUp", "button": 0 }];
                  context$3$0.next = 12;
                  return _regeneratorRuntime.awrap(performTouchAction(leftActions, rightActions));

                case 12:
                case 'end':
                  return context$3$0.stop();
              }
            }, null, this);
          });

        case 3:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this);
  });

  describe('touches', function callee$1$0() {
    return _regeneratorRuntime.async(function callee$1$0$(context$2$0) {
      while (1) switch (context$2$0.prev = context$2$0.next) {
        case 0:
          it('should swipe on drag and drop', function callee$2$0() {
            var el, _ref8, x, y, touchActions;

            return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
              while (1) switch (context$3$0.prev = context$3$0.next) {
                case 0:
                  context$3$0.t0 = _regeneratorRuntime;
                  context$3$0.next = 3;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Views"));

                case 3:
                  context$3$0.t1 = context$3$0.sent.click();
                  context$3$0.next = 6;
                  return context$3$0.t0.awrap.call(context$3$0.t0, context$3$0.t1);

                case 6:
                  context$3$0.t2 = _regeneratorRuntime;
                  context$3$0.next = 9;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Drag and Drop"));

                case 9:
                  context$3$0.t3 = context$3$0.sent.click();
                  context$3$0.next = 12;
                  return context$3$0.t2.awrap.call(context$3$0.t2, context$3$0.t3);

                case 12:
                  context$3$0.next = 14;
                  return _regeneratorRuntime.awrap(driver.elementById("io.appium.android.apis:id/drag_dot_1"));

                case 14:
                  el = context$3$0.sent;
                  context$3$0.next = 17;
                  return _regeneratorRuntime.awrap(el.getLocation());

                case 17:
                  _ref8 = context$3$0.sent;
                  x = _ref8.x;
                  y = _ref8.y;
                  touchActions = [{ "type": "pointerMove", "duration": 0, x: x + 30, y: y + 30 }, { "type": "pointerDown", "button": 0 }, { "type": "pointerMove", "duration": 100, x: x + 10, y: y + 10 }, { "type": "pointerUp", "button": 0 }];
                  context$3$0.next = 23;
                  return _regeneratorRuntime.awrap(performTouchAction(touchActions));

                case 23:
                case 'end':
                  return context$3$0.stop();
              }
            }, null, this);
          });

          it('should touch down and up', function callee$2$0() {
            var el, _ref9, x, y, touchActions;

            return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
              while (1) switch (context$3$0.prev = context$3$0.next) {
                case 0:
                  context$3$0.next = 2;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Accessibility"));

                case 2:
                  el = context$3$0.sent;
                  context$3$0.next = 5;
                  return _regeneratorRuntime.awrap(el.getLocation());

                case 5:
                  _ref9 = context$3$0.sent;
                  x = _ref9.x;
                  y = _ref9.y;
                  touchActions = [{ "type": "pointerMove", "duration": 100, x: x + 10, y: y + 10 }, { "type": "pointerDown", "button": 0 }, { "type": "pause", "duration": 3000 }, { "type": "pointerUp", "button": 0 }];
                  context$3$0.next = 11;
                  return _regeneratorRuntime.awrap(performTouchAction(touchActions));

                case 11:
                  context$3$0.next = 13;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Accessibility Node Provider").should.eventually.exist);

                case 13:
                case 'end':
                  return context$3$0.stop();
              }
            }, null, this);
          });

          it('should touch down and up on an element by id', function callee$2$0() {
            var el, touchActions;
            return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
              while (1) switch (context$3$0.prev = context$3$0.next) {
                case 0:
                  context$3$0.next = 2;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Accessibility"));

                case 2:
                  el = context$3$0.sent;
                  touchActions = [{ "type": "pointerMove", "duration": 0, "origin": { "element-6066-11e4-a52e-4f735466cecf": el.value } }, { "type": "pointerDown", "button": 0 }, { "type": "pause", "duration": 100 }, { "type": "pointerUp", "button": 0 }];
                  context$3$0.next = 6;
                  return _regeneratorRuntime.awrap(performTouchAction(touchActions));

                case 6:
                  context$3$0.next = 8;
                  return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Accessibility Node Provider").should.eventually.exist);

                case 8:
                  context$3$0.next = 10;
                  return _regeneratorRuntime.awrap(performTouchAction(touchActions).should.eventually.be.rejectedWith(/no longer exists /));

                case 10:
                case 'end':
                  return context$3$0.stop();
              }
            }, null, this);
          });

        case 3:
        case 'end':
          return context$2$0.stop();
      }
    }, null, this);
  });

  describe('mjsonwp touch actions', function () {
    var sessionId = undefined;

    it('should do touch/click event', function callee$2$0() {
      var el, elementId, options;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Accessibility"));

          case 2:
            el = context$3$0.sent;
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(driver.getSessionId());

          case 5:
            sessionId = context$3$0.sent;
            elementId = el.value;
            options = {
              method: 'POST',
              uri: 'http://' + _helpersSession.HOST + ':' + _helpersSession.PORT + '/wd/hub/session/' + sessionId + '/touch/click',
              body: {
                element: elementId
              },
              json: true
            };
            context$3$0.next = 10;
            return _regeneratorRuntime.awrap((0, _requestPromise2['default'])(options));

          case 10:
            context$3$0.next = 12;
            return _regeneratorRuntime.awrap(driver.elementByAccessibilityId('Accessibility Node Provider').should.eventually.exist);

          case 12:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });

    it('should do touch/longclick event', function callee$2$0() {
      var el, elementId, options;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Accessibility"));

          case 2:
            el = context$3$0.sent;
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(driver.getSessionId());

          case 5:
            sessionId = context$3$0.sent;
            elementId = el.value;
            options = {
              method: 'POST',
              uri: 'http://' + _helpersSession.HOST + ':' + _helpersSession.PORT + '/wd/hub/session/' + sessionId + '/touch/longclick',
              body: {
                element: elementId
              },
              json: true
            };
            context$3$0.next = 10;
            return _regeneratorRuntime.awrap((0, _requestPromise2['default'])(options));

          case 10:
            context$3$0.next = 12;
            return _regeneratorRuntime.awrap(driver.elementByAccessibilityId('Accessibility Node Provider').should.eventually.exist);

          case 12:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });

    it('should do touch/doubleclick event', function callee$2$0() {
      var el, elementId, options;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Accessibility"));

          case 2:
            el = context$3$0.sent;
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(driver.getSessionId());

          case 5:
            sessionId = context$3$0.sent;
            elementId = el.value;
            options = {
              method: 'POST',
              uri: 'http://' + _helpersSession.HOST + ':' + _helpersSession.PORT + '/wd/hub/session/' + sessionId + '/touch/doubleclick',
              body: {
                element: elementId
              },
              json: true
            };
            context$3$0.next = 10;
            return _regeneratorRuntime.awrap((0, _requestPromise2['default'])(options));

          case 10:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });

    it('should touch down at a location and then touch up', function callee$2$0() {
      var el, _ref10, x, y, options, optionsTwo;

      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.getSessionId());

          case 2:
            sessionId = context$3$0.sent;
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Animation"));

          case 5:
            el = context$3$0.sent;
            context$3$0.next = 8;
            return _regeneratorRuntime.awrap(el.getLocation());

          case 8:
            _ref10 = context$3$0.sent;
            x = _ref10.x;
            y = _ref10.y;
            options = {
              method: 'POST',
              uri: 'http://' + _helpersSession.HOST + ':' + _helpersSession.PORT + '/wd/hub/session/' + sessionId + '/touch/down',
              body: {
                x: x + 1,
                y: y + 1
              },
              json: true
            };
            context$3$0.next = 14;
            return _regeneratorRuntime.awrap((0, _requestPromise2['default'])(options));

          case 14:
            context$3$0.next = 16;
            return _regeneratorRuntime.awrap(_bluebird2['default'].delay(1000));

          case 16:
            optionsTwo = {
              method: 'POST',
              uri: 'http://' + _helpersSession.HOST + ':' + _helpersSession.PORT + '/wd/hub/session/' + sessionId + '/touch/up',
              body: {
                x: x + 1,
                y: y + 1
              },
              json: true
            };
            context$3$0.next = 19;
            return _regeneratorRuntime.awrap((0, _requestPromise2['default'])(optionsTwo));

          case 19:
            context$3$0.next = 21;
            return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Bouncing Balls").should.eventually.exist);

          case 21:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });

    it('should touch down, move, touch up and cause a scroll event', function callee$2$0() {
      var el, _ref11, startX, startY, _ref12, endX, endY, options;

      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.t0 = _regeneratorRuntime;
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Views"));

          case 3:
            context$3$0.t1 = context$3$0.sent.click();
            context$3$0.next = 6;
            return context$3$0.t0.awrap.call(context$3$0.t0, context$3$0.t1);

          case 6:
            context$3$0.next = 8;
            return _regeneratorRuntime.awrap(driver.getSessionId());

          case 8:
            sessionId = context$3$0.sent;
            context$3$0.next = 11;
            return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Gallery"));

          case 11:
            el = context$3$0.sent;
            context$3$0.next = 14;
            return _regeneratorRuntime.awrap(el.getLocation());

          case 14:
            _ref11 = context$3$0.sent;
            startX = _ref11.x;
            startY = _ref11.y;
            context$3$0.next = 19;
            return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Controls"));

          case 19:
            el = context$3$0.sent;
            context$3$0.next = 22;
            return _regeneratorRuntime.awrap(el.getLocation());

          case 22:
            _ref12 = context$3$0.sent;
            endX = _ref12.x;
            endY = _ref12.y;
            options = {
              method: 'POST',
              uri: 'http://' + _helpersSession.HOST + ':' + _helpersSession.PORT + '/wd/hub/session/' + sessionId + '/touch/down',
              body: {
                x: startX + 1,
                y: startY + 1
              },
              json: true
            };
            context$3$0.next = 28;
            return _regeneratorRuntime.awrap((0, _requestPromise2['default'])(options));

          case 28:
            context$3$0.next = 30;
            return _regeneratorRuntime.awrap(_bluebird2['default'].delay(1000));

          case 30:

            options = {
              method: 'POST',
              uri: 'http://' + _helpersSession.HOST + ':' + _helpersSession.PORT + '/wd/hub/session/' + sessionId + '/touch/move',
              body: {
                x: endX + 1,
                y: endY + 1
              },
              json: true
            };
            context$3$0.next = 33;
            return _regeneratorRuntime.awrap((0, _requestPromise2['default'])(options));

          case 33:
            context$3$0.next = 35;
            return _regeneratorRuntime.awrap(_bluebird2['default'].delay(1000));

          case 35:

            options = {
              method: 'POST',
              uri: 'http://' + _helpersSession.HOST + ':' + _helpersSession.PORT + '/wd/hub/session/' + sessionId + '/touch/up',
              body: {
                x: endX + 1,
                y: endY + 1
              },
              json: true
            };
            context$3$0.next = 38;
            return _regeneratorRuntime.awrap((0, _requestPromise2['default'])(options));

          case 38:
            context$3$0.next = 40;
            return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Hover Events").should.eventually.exist);

          case 40:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });

    it('should scroll on an element', function callee$2$0() {
      var options;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.t0 = _regeneratorRuntime;
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Views"));

          case 3:
            context$3$0.t1 = context$3$0.sent.click();
            context$3$0.next = 6;
            return context$3$0.t0.awrap.call(context$3$0.t0, context$3$0.t1);

          case 6:
            context$3$0.next = 8;
            return _regeneratorRuntime.awrap(driver.getSessionId());

          case 8:
            sessionId = context$3$0.sent;
            options = {
              method: 'POST',
              uri: 'http://' + _helpersSession.HOST + ':' + _helpersSession.PORT + '/wd/hub/session/' + sessionId + '/touch/scroll',
              body: {
                //element: el.value,
                x: 0,
                y: -300
              },
              json: true
            };
            context$3$0.next = 12;
            return _regeneratorRuntime.awrap((0, _requestPromise2['default'])(options));

          case 12:
            context$3$0.next = 14;
            return _regeneratorRuntime.awrap(_bluebird2['default'].delay(1000));

          case 14:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });

  describe('mjsonwp touch actions', function () {
    describe('multi touch actions', function () {
      it('should perform single tap/press/longPress actions', function callee$3$0() {
        var _arr, _i, method, action, el, _ref13, x, y, multiAction;

        return _regeneratorRuntime.async(function callee$3$0$(context$4$0) {
          while (1) switch (context$4$0.prev = context$4$0.next) {
            case 0:
              _arr = ['tap', 'press', 'longPress'];
              _i = 0;

            case 2:
              if (!(_i < _arr.length)) {
                context$4$0.next = 25;
                break;
              }

              method = _arr[_i];
              action = new _wd2['default'].TouchAction();
              context$4$0.next = 7;
              return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Accessibility"));

            case 7:
              el = context$4$0.sent;
              context$4$0.next = 10;
              return _regeneratorRuntime.awrap(el.getLocation());

            case 10:
              _ref13 = context$4$0.sent;
              x = _ref13.x;
              y = _ref13.y;

              action[method]({ x: x + 10, y: y + 10 });
              action.release();
              multiAction = new _wd2['default'].MultiAction(driver);

              multiAction.add(action);
              multiAction.perform();
              context$4$0.next = 20;
              return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Accessibility Node Provider").should.eventually.exist);

            case 20:
              context$4$0.next = 22;
              return _regeneratorRuntime.awrap(driver.back());

            case 22:
              _i++;
              context$4$0.next = 2;
              break;

            case 25:
            case 'end':
              return context$4$0.stop();
          }
        }, null, this);
      });

      it('should perform single tap/press/longPress actions on an element', function callee$3$0() {
        var _arr2, _i2, method, action, el, multiAction;

        return _regeneratorRuntime.async(function callee$3$0$(context$4$0) {
          while (1) switch (context$4$0.prev = context$4$0.next) {
            case 0:
              _arr2 = ['tap', 'press', 'longPress'];
              _i2 = 0;

            case 2:
              if (!(_i2 < _arr2.length)) {
                context$4$0.next = 20;
                break;
              }

              method = _arr2[_i2];
              action = new _wd2['default'].TouchAction();
              context$4$0.next = 7;
              return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Animation"));

            case 7:
              el = context$4$0.sent;

              action[method]({ el: el });
              action.release();
              multiAction = new _wd2['default'].MultiAction(driver);

              multiAction.add(action);
              multiAction.perform();
              context$4$0.next = 15;
              return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Bouncing Balls").should.eventually.exist);

            case 15:
              context$4$0.next = 17;
              return _regeneratorRuntime.awrap(driver.back());

            case 17:
              _i2++;
              context$4$0.next = 2;
              break;

            case 20:
            case 'end':
              return context$4$0.stop();
          }
        }, null, this);
      });
    });

    describe('touch actions', function () {
      it('should perform single tap/press/longPress actions', function callee$3$0() {
        var _arr3, _i3, method, action, el, _ref14, x, y;

        return _regeneratorRuntime.async(function callee$3$0$(context$4$0) {
          while (1) switch (context$4$0.prev = context$4$0.next) {
            case 0:
              _arr3 = ['tap', 'press', 'longPress'];
              _i3 = 0;

            case 2:
              if (!(_i3 < _arr3.length)) {
                context$4$0.next = 23;
                break;
              }

              method = _arr3[_i3];
              action = new _wd2['default'].TouchAction(driver);
              context$4$0.next = 7;
              return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Accessibility"));

            case 7:
              el = context$4$0.sent;
              context$4$0.next = 10;
              return _regeneratorRuntime.awrap(el.getLocation());

            case 10:
              _ref14 = context$4$0.sent;
              x = _ref14.x;
              y = _ref14.y;

              action[method]({ x: x + 10, y: y + 10 });
              action.release();
              action.perform();
              context$4$0.next = 18;
              return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Accessibility Node Provider").should.eventually.exist);

            case 18:
              context$4$0.next = 20;
              return _regeneratorRuntime.awrap(driver.back());

            case 20:
              _i3++;
              context$4$0.next = 2;
              break;

            case 23:
            case 'end':
              return context$4$0.stop();
          }
        }, null, this);
      });
      it('should perform single tap/press/longPress actions on an element', function callee$3$0() {
        var _arr4, _i4, method, action, el;

        return _regeneratorRuntime.async(function callee$3$0$(context$4$0) {
          while (1) switch (context$4$0.prev = context$4$0.next) {
            case 0:
              _arr4 = ['tap', 'press', 'longPress'];
              _i4 = 0;

            case 2:
              if (!(_i4 < _arr4.length)) {
                context$4$0.next = 18;
                break;
              }

              method = _arr4[_i4];
              action = new _wd2['default'].TouchAction(driver);
              context$4$0.next = 7;
              return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Animation"));

            case 7:
              el = context$4$0.sent;

              action[method]({ el: el });
              action.release();
              action.perform();
              context$4$0.next = 13;
              return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Bouncing Balls").should.eventually.exist);

            case 13:
              context$4$0.next = 15;
              return _regeneratorRuntime.awrap(driver.back());

            case 15:
              _i4++;
              context$4$0.next = 2;
              break;

            case 18:
            case 'end':
              return context$4$0.stop();
          }
        }, null, this);
      });
      it('should perform a scroll event', function callee$3$0() {
        var action, startEl, endEl;
        return _regeneratorRuntime.async(function callee$3$0$(context$4$0) {
          while (1) switch (context$4$0.prev = context$4$0.next) {
            case 0:
              context$4$0.t0 = _regeneratorRuntime;
              context$4$0.next = 3;
              return _regeneratorRuntime.awrap(driver.elementByAccessibilityId('Views'));

            case 3:
              context$4$0.t1 = context$4$0.sent.click();
              context$4$0.next = 6;
              return context$4$0.t0.awrap.call(context$4$0.t0, context$4$0.t1);

            case 6:
              action = new _wd2['default'].TouchAction(driver);
              context$4$0.next = 9;
              return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Gallery"));

            case 9:
              startEl = context$4$0.sent;
              context$4$0.next = 12;
              return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("Buttons"));

            case 12:
              endEl = context$4$0.sent;

              action.press({ el: startEl });
              action.moveTo({ el: endEl });
              action.release();
              action.perform();
              context$4$0.next = 19;
              return _regeneratorRuntime.awrap(driver.elementByAccessibilityId("ImageView").should.eventually.exist);

            case 19:
              context$4$0.next = 21;
              return _regeneratorRuntime.awrap(driver.back());

            case 21:
            case 'end':
              return context$4$0.stop();
          }
        }, null, this);
      });
      it('should do multiple scrolls on multiple views', function callee$3$0() {
        var _ref15, _ref152, leftEl, rightEl, leftGesture, rightGesture, multiAction;

        return _regeneratorRuntime.async(function callee$3$0$(context$4$0) {
          while (1) switch (context$4$0.prev = context$4$0.next) {
            case 0:
              context$4$0.next = 2;
              return _regeneratorRuntime.awrap(driver.startActivity({ appActivity: '.view.SplitTouchView', appPackage: 'io.appium.android.apis' }));

            case 2:
              context$4$0.next = 4;
              return _regeneratorRuntime.awrap(driver.elementsByClassName('android.widget.ListView'));

            case 4:
              _ref15 = context$4$0.sent;
              _ref152 = _slicedToArray(_ref15, 2);
              leftEl = _ref152[0];
              rightEl = _ref152[1];
              leftGesture = new _wd2['default'].TouchAction().press({ element: leftEl }).moveTo({ element: leftEl, x: 10, y: 0 }).moveTo({ element: leftEl, x: 10, y: -25 }).moveTo({ element: leftEl, x: 10, y: -50 }).moveTo({ element: leftEl, x: 10, y: -75 }).moveTo({ element: leftEl, x: 10, y: -100 }).moveTo({ element: leftEl, x: 10, y: -125 }).moveTo({ element: leftEl, x: 10, y: -500 });
              rightGesture = new _wd2['default'].TouchAction().press({ element: rightEl }).moveTo({ element: rightEl, x: 10, y: 0 }).moveTo({ element: rightEl, x: 10, y: -25 }).moveTo({ element: rightEl, x: 10, y: -50 }).moveTo({ element: rightEl, x: 10, y: -75 }).moveTo({ element: rightEl, x: 10, y: -100 }).moveTo({ element: rightEl, x: 10, y: -125 }).moveTo({ element: rightEl, x: 10, y: -500 });
              multiAction = new _wd2['default'].MultiAction();

              multiAction.add(leftGesture, rightGesture);

              context$4$0.next = 14;
              return _regeneratorRuntime.awrap(driver.performMultiAction(multiAction));

            case 14:
              context$4$0.next = 16;
              return _regeneratorRuntime.awrap(_bluebird2['default'].delay(5000));

            case 16:
            case 'end':
              return context$4$0.stop();
          }
        }, null, this);
      });
    });
  });
});

// Check that it throws a stale element exception if we try again on the same element after it has become stale
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvZnVuY3Rpb25hbC9jb21tYW5kcy90b3VjaC1lMmUtc3BlY3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztvQkFBaUIsTUFBTTs7Ozs4QkFDSSxrQkFBa0I7Ozs7a0JBQzlCLElBQUk7Ozs7OEJBQ0MsaUJBQWlCOzs7O3dCQUN2QixVQUFVOzs7OzhCQUNrQixvQkFBb0I7O3VCQUNqQyxZQUFZOztnQkFDYixVQUFVOztBQUd0QyxrQkFBSyxNQUFNLEVBQUUsQ0FBQztBQUNkLGtCQUFLLEdBQUcsNkJBQWdCLENBQUM7Ozs7QUFJekIsUUFBUSxDQUFDLGdCQUFnQixFQUFFLFlBQVk7QUFDckMsTUFBSSxDQUFDLE9BQU8sK0JBQWUsQ0FBQzs7QUFFNUIsTUFBSSxNQUFNLFlBQUEsQ0FBQztBQUNYLE1BQUksTUFBTSxZQUFBLENBQUM7QUFDWCxRQUFNLENBQUM7Ozs7OzJDQUNVLDhEQUF1Qjs7O0FBQXRDLGdCQUFNOztBQUNOLGdCQUFNLEdBQUcsZ0JBQUcsa0JBQWtCLDRDQUFZLENBQUM7Ozs7Ozs7R0FDNUMsQ0FBQyxDQUFDO0FBQ0gsT0FBSyxDQUFDOzs7Ozs7MkNBRUksTUFBTSxDQUFDLEtBQUssRUFBRTs7Ozs7Ozs7Ozs7Ozs7O0dBRXZCLENBQUMsQ0FBQztBQUNILFlBQVUsQ0FBQzs7Ozs7OzJDQUVELE1BQU0sQ0FBQyxJQUFJLHVCQUFjOzs7Ozs7Ozs7Ozs7Ozs7R0FFbEMsQ0FBQyxDQUFDO0FBQ0gsV0FBUyxDQUFDOzs7Ozs7MkNBRUEsTUFBTSxDQUFDLElBQUksRUFBRTs7Ozs7Ozs7Ozs7Ozs7O0dBRXRCLENBQUMsQ0FBQzs7QUFFSCxNQUFJLFNBQVMsR0FBRyxDQUFDLENBQUM7O0FBRWxCLE1BQU0sa0JBQWtCLEdBQUcsU0FBckIsa0JBQWtCO1FBQ2hCLFdBQVc7Ozs7O1FBRDJCLGFBQWE7Ozs7UUFHaEQsT0FBTztRQVdaLFNBQVM7UUFDUCxPQUFPOzs7Ozs7QUFkUCxxQkFBVyxHQUFHLEVBQUU7Ozs7Ozt1Q0FEc0Is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LEVBQUMsQ0FBQyxDQUN2QyxNQUFNLENBQUMsRUFBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFDLENBQUMsQ0FDekMsTUFBTSxDQUFDLEVBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBQyxDQUFDLENBQ3pDLE1BQU0sQ0FBQyxFQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUMsQ0FBQyxDQUN6QyxNQUFNLENBQUMsRUFBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFDLENBQUMsQ0FDMUMsTUFBTSxDQUFDLEVBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBQyxDQUFDLENBQzFDLE1BQU0sQ0FBQyxFQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUMsQ0FBQztBQUV2Qyx5QkFBVyxHQUFHLElBQUksZ0JBQUcsV0FBVyxFQUFFOztBQUN4Qyx5QkFBVyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsWUFBWSxDQUFDLENBQUM7OzsrQ0FFckMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsQ0FBQzs7OzsrQ0FDdEMsc0JBQUUsS0FBSyxDQUFDLElBQUksQ0FBQzs7Ozs7OztPQUNwQixDQUFDLENBQUM7S0FDSixDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoidGVzdC9mdW5jdGlvbmFsL2NvbW1hbmRzL3RvdWNoLWUyZS1zcGVjcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0IGNoYWlBc1Byb21pc2VkIGZyb20gJ2NoYWktYXMtcHJvbWlzZWQnO1xuaW1wb3J0IHdkIGZyb20gJ3dkJztcbmltcG9ydCByZXF1ZXN0IGZyb20gJ3JlcXVlc3QtcHJvbWlzZSc7XG5pbXBvcnQgQiBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgeyBIT1NULCBQT1JULCBNT0NIQV9USU1FT1VUIH0gZnJvbSAnLi4vaGVscGVycy9zZXNzaW9uJztcbmltcG9ydCB7IEFQSURFTU9fQ0FQUyB9IGZyb20gJy4uL2Rlc2lyZWQnO1xuaW1wb3J0IHsgc3RhcnRTZXJ2ZXIgfSBmcm9tICcuLi8uLi8uLic7XG5cblxuY2hhaS5zaG91bGQoKTtcbmNoYWkudXNlKGNoYWlBc1Byb21pc2VkKTtcblxuLy8gVE9ETzogQWRkIG1pc3NpbmcgY2xpZW50IGZlYXR1cmVzIHRvIGFkbWMvd2RcblxuZGVzY3JpYmUoJ2VsZW1lbnRCeVhQYXRoJywgZnVuY3Rpb24gKCkge1xuICB0aGlzLnRpbWVvdXQoTU9DSEFfVElNRU9VVCk7XG5cbiAgbGV0IGRyaXZlcjtcbiAgbGV0IHNlcnZlcjtcbiAgYmVmb3JlKGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICBzZXJ2ZXIgPSBhd2FpdCBzdGFydFNlcnZlcihQT1JULCBIT1NUKTtcbiAgICBkcml2ZXIgPSB3ZC5wcm9taXNlQ2hhaW5SZW1vdGUoSE9TVCwgUE9SVCk7XG4gIH0pO1xuICBhZnRlcihhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHNlcnZlci5jbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGlnbikge31cbiAgfSk7XG4gIGJlZm9yZUVhY2goYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBkcml2ZXIuaW5pdChBUElERU1PX0NBUFMpO1xuICAgIH0gY2F0Y2ggKGlnbikge31cbiAgfSk7XG4gIGFmdGVyRWFjaChhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGRyaXZlci5xdWl0KCk7XG4gICAgfSBjYXRjaCAoaWduKSB7fVxuICB9KTtcblxuICBsZXQgaWRDb3VudGVyID0gMDtcblxuICBjb25zdCBwZXJmb3JtVG91Y2hBY3Rpb24gPSBhc3luYyBmdW5jdGlvbiAoLi4uYWN0aW9uc0FycmF5cykge1xuICAgIGNvbnN0IGFjdGlvbnNSb290ID0gW107XG5cbiAgICBmb3IgKGxldCBhY3Rpb25zIG9mIGFjdGlvbnNBcnJheXMpIHtcbiAgICAgIGFjdGlvbnNSb290LnB1c2goe1xuICAgICAgICB0eXBlOiAncG9pbnRlcicsXG4gICAgICAgIGlkOiBgaWRfJHtpZENvdW50ZXIrK31gLFxuICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgcG9pbnRlclR5cGU6ICd0b3VjaCdcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aW9ucyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGxldCBzZXNzaW9uSWQgPSBhd2FpdCBkcml2ZXIuZ2V0U2Vzc2lvbklkKCk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgdXJpOiBgaHR0cDovLyR7SE9TVH06JHtQT1JUfS93ZC9odWIvc2Vzc2lvbi8ke3Nlc3Npb25JZH0vYWN0aW9uc2AsXG4gICAgICBib2R5OiB7YWN0aW9uczogYWN0aW9uc1Jvb3R9LFxuICAgICAganNvbjogdHJ1ZSxcbiAgICB9O1xuICAgIHJldHVybiByZXF1ZXN0KG9wdGlvbnMpO1xuICB9O1xuXG4gIGRlc2NyaWJlKCdmaW5nZXJwYWludCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICBpdCgnc2hvdWxkIGRyYXcgdGhlIGxldHRlciBMIG9uIGZpbmdlcnBhaW50JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgYXdhaXQgKGF3YWl0IGRyaXZlci5lbGVtZW50QnlBY2Nlc3NpYmlsaXR5SWQoXCJHcmFwaGljc1wiKSkuY2xpY2soKTtcbiAgICAgIGF3YWl0IChhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiRmluZ2VyUGFpbnRcIikpLmNsaWNrKCk7XG4gICAgICBsZXQgY2FudmFzID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUlkKFwiYW5kcm9pZDppZC9jb250ZW50XCIpO1xuICAgICAgbGV0IHt4LCB5fSA9IGF3YWl0IGNhbnZhcy5nZXRMb2NhdGlvbigpO1xuICAgICAgY29uc3QgdG91Y2hBY3Rpb25zID0gW1xuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlck1vdmVcIiwgZHVyYXRpb246IDEwMDAsIHg6IHggKyAxMCwgeTogeSArIDEwfSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJEb3duXCIsIFwiYnV0dG9uXCI6IDB9LFxuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlck1vdmVcIiwgZHVyYXRpb246IDEwMDAsICB4OiB4ICsgMTAsIHk6IHkgKyAxMDAwfSxcbiAgICAgICAge1widHlwZVwiOiBcInBhdXNlXCIsIGR1cmF0aW9uOiAxMDAwfSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJNb3ZlXCIsIGR1cmF0aW9uOiAxMDAwLCAgeDogeCArIDEwMDAsIHk6IHkgKyAxMDAwfSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJDYW5jZWxcIiwgXCJidXR0b25cIjogMH0sXG4gICAgICBdO1xuICAgICAgYXdhaXQgcGVyZm9ybVRvdWNoQWN0aW9uKHRvdWNoQWN0aW9ucyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRyYXcgdHdvIHBhcmFsbGVsIGxpbmVzIG9uIGZpbmdlcnBhaW50JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgYXdhaXQgKGF3YWl0IGRyaXZlci5lbGVtZW50QnlBY2Nlc3NpYmlsaXR5SWQoXCJHcmFwaGljc1wiKSkuY2xpY2soKTtcbiAgICAgIGF3YWl0IChhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiRmluZ2VyUGFpbnRcIikpLmNsaWNrKCk7XG4gICAgICBsZXQgY2FudmFzID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUlkKFwiYW5kcm9pZDppZC9jb250ZW50XCIpO1xuICAgICAgbGV0IHt4LCB5fSA9IGF3YWl0IGNhbnZhcy5nZXRMb2NhdGlvbigpO1xuICAgICAgY29uc3QgdG91Y2hBY3Rpb25PbmUgPSBbXG4gICAgICAgIHtcInR5cGVcIjogXCJwb2ludGVyTW92ZVwiLCB4OiB4ICsgMTAsIHk6IHkgKyAxMH0sXG4gICAgICAgIHtcInR5cGVcIjogXCJwb2ludGVyRG93blwiLCBcImJ1dHRvblwiOiAwfSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJNb3ZlXCIsIGR1cmF0aW9uOiAyMDAwLCAgeDogeCArIDEwLCB5OiB5ICsgMTAwMH0sXG4gICAgICAgIHtcInR5cGVcIjogXCJwb2ludGVyVXBcIiwgXCJidXR0b25cIjogMH0sXG4gICAgICBdO1xuXG4gICAgICBjb25zdCB0b3VjaEFjdGlvblR3byA9IFtcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJNb3ZlXCIsIHg6IHggKyAyMDAsIHk6IHkgKyAxMH0sXG4gICAgICAgIHtcInR5cGVcIjogXCJwb2ludGVyRG93blwiLCBcImJ1dHRvblwiOiAwfSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJNb3ZlXCIsIGR1cmF0aW9uOiAyMDAwLCAgeDogeCArIDIwMCwgeTogeSArIDEwMDB9LFxuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlclVwXCIsIFwiYnV0dG9uXCI6IDB9LFxuICAgICAgXTtcbiAgICAgIGF3YWl0IHBlcmZvcm1Ub3VjaEFjdGlvbih0b3VjaEFjdGlvbk9uZSwgdG91Y2hBY3Rpb25Ud28pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnc2Nyb2xsaW5nL3N3aXBpbmcnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCBzY3JvbGwgdXAgbWVudScsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGF3YWl0IChhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiVmlld3NcIikpLmNsaWNrKCk7XG4gICAgICBsZXQgZ2NFbCA9IGF3YWl0IGRyaXZlci5lbGVtZW50QnlBY2Nlc3NpYmlsaXR5SWQoXCJHYW1lIENvbnRyb2xsZXIgSW5wdXRcIik7XG4gICAgICBsZXQge3gsIHl9ID0gYXdhaXQgZ2NFbC5nZXRMb2NhdGlvbigpO1xuICAgICAgbGV0IGN1c3RvbUVsID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZChcIkN1c3RvbVwiKTtcbiAgICAgIGxldCB7eDp4RW5kLCB5OnlFbmR9ID0gYXdhaXQgY3VzdG9tRWwuZ2V0TG9jYXRpb24oKTtcblxuICAgICAgY29uc3QgYWN0aW9ucyA9IFtcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJNb3ZlXCIsIFwiZHVyYXRpb25cIjogMCwgeDogeCArIDUsIHk6IHkgKyA1fSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJEb3duXCIsIFwiYnV0dG9uXCI6IDB9LFxuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlck1vdmVcIiwgXCJkdXJhdGlvblwiOiAyMDAsICB4OiB4RW5kICsgNSwgeTogeUVuZCArIDV9LFxuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlclVwXCIsIFwiYnV0dG9uXCI6IDB9XG4gICAgICBdO1xuICAgICAgYXdhaXQgcGVyZm9ybVRvdWNoQWN0aW9uKGFjdGlvbnMpO1xuICAgICAgYXdhaXQgZHJpdmVyLmVsZW1lbnRCeVhQYXRoKFwiLy8qW0B0ZXh0PSdJbWFnZUJ1dHRvbiddXCIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzd2lwZSB1cCBtZW51JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgYXdhaXQgKGF3YWl0IGRyaXZlci5lbGVtZW50QnlBY2Nlc3NpYmlsaXR5SWQoXCJWaWV3c1wiKSkuY2xpY2soKTtcbiAgICAgIGxldCBnY0VsID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZChcIkdhbWUgQ29udHJvbGxlciBJbnB1dFwiKTtcbiAgICAgIGxldCB7eCwgeX0gPSBhd2FpdCBnY0VsLmdldExvY2F0aW9uKCk7XG4gICAgICBsZXQgY3VzdG9tRWwgPSBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiQ3VzdG9tXCIpO1xuICAgICAgbGV0IHt4OnhFbmQsIHk6eUVuZH0gPSBhd2FpdCBjdXN0b21FbC5nZXRMb2NhdGlvbigpO1xuXG4gICAgICBjb25zdCBhY3Rpb25zID0gW1xuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlck1vdmVcIiwgXCJkdXJhdGlvblwiOiAwLCAgeDogeCArIDUsIHk6IHkgKyA1fSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJEb3duXCIsIFwiYnV0dG9uXCI6IDB9LFxuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlck1vdmVcIiwgXCJkdXJhdGlvblwiOiAxMDAsICB4OiB4RW5kICsgNSwgeTogeUVuZCArIDV9LFxuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlclVwXCIsIFwiYnV0dG9uXCI6IDB9XG4gICAgICBdO1xuICAgICAgYXdhaXQgcGVyZm9ybVRvdWNoQWN0aW9uKGFjdGlvbnMpO1xuICAgICAgYXdhaXQgZHJpdmVyLmVsZW1lbnRCeVhQYXRoKFwiLy8qW0B0ZXh0PSdJbWFnZUJ1dHRvbiddXCIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkbyBtdWx0aXBsZSBzY3JvbGxzIG9uIG11bHRpcGxlIHZpZXdzJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgYXdhaXQgZHJpdmVyLnN0YXJ0QWN0aXZpdHkoe2FwcEFjdGl2aXR5OiAnLnZpZXcuU3BsaXRUb3VjaFZpZXcnLCBhcHBQYWNrYWdlOiAnaW8uYXBwaXVtLmFuZHJvaWQuYXBpcyd9KTtcbiAgICAgIGxldCBbbGVmdEVsLCByaWdodEVsXSA9IGF3YWl0IGRyaXZlci5lbGVtZW50c0J5Q2xhc3NOYW1lKCdhbmRyb2lkLndpZGdldC5MaXN0VmlldycpO1xuXG4gICAgICBjb25zdCBsZWZ0QWN0aW9ucyA9IFtcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJNb3ZlXCIsICBcIm9yaWdpblwiOiB7XCJlbGVtZW50LTYwNjYtMTFlNC1hNTJlLTRmNzM1NDY2Y2VjZlwiOiBsZWZ0RWwudmFsdWV9fSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJEb3duXCIsICBcImJ1dHRvblwiOiAwfSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJNb3ZlXCIsICBcIm9yaWdpblwiOiB7XCJlbGVtZW50LTYwNjYtMTFlNC1hNTJlLTRmNzM1NDY2Y2VjZlwiOiBsZWZ0RWwudmFsdWV9LCBcInhcIjogMTAsIFwieVwiOiAtNTAwLCBcImR1cmF0aW9uXCI6IDMwMDB9LFxuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlck1vdmVcIiwgIFwib3JpZ2luXCI6IFwicG9pbnRlclwiLCBcInhcIjogMTAsIFwieVwiOiAtNTAwLCBcImR1cmF0aW9uXCI6IDMwMDB9LFxuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlclVwXCIsIFwiYnV0dG9uXCI6IDB9LFxuICAgICAgXTtcblxuICAgICAgY29uc3QgcmlnaHRBY3Rpb25zID0gW1xuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlck1vdmVcIiwgIFwib3JpZ2luXCI6IHtcImVsZW1lbnQtNjA2Ni0xMWU0LWE1MmUtNGY3MzU0NjZjZWNmXCI6IHJpZ2h0RWwudmFsdWV9fSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJEb3duXCIsICBcImJ1dHRvblwiOiAwfSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJNb3ZlXCIsICBcIm9yaWdpblwiOiB7XCJlbGVtZW50LTYwNjYtMTFlNC1hNTJlLTRmNzM1NDY2Y2VjZlwiOiByaWdodEVsLnZhbHVlfSwgXCJ4XCI6IDEwLCBcInlcIjogLTUwMCwgXCJkdXJhdGlvblwiOiAzMDAwfSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJNb3ZlXCIsICBcIm9yaWdpblwiOiBcInBvaW50ZXJcIiwgXCJ4XCI6IDEwLCBcInlcIjogLTUwMCwgXCJkdXJhdGlvblwiOiAzMDAwfSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJVcFwiLCBcImJ1dHRvblwiOiAwfSxcbiAgICAgIF07XG5cbiAgICAgIGF3YWl0IHBlcmZvcm1Ub3VjaEFjdGlvbihsZWZ0QWN0aW9ucywgcmlnaHRBY3Rpb25zKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3RvdWNoZXMnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCBzd2lwZSBvbiBkcmFnIGFuZCBkcm9wJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgYXdhaXQgKGF3YWl0IGRyaXZlci5lbGVtZW50QnlBY2Nlc3NpYmlsaXR5SWQoXCJWaWV3c1wiKSkuY2xpY2soKTtcbiAgICAgIGF3YWl0IChhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiRHJhZyBhbmQgRHJvcFwiKSkuY2xpY2soKTtcbiAgICAgIGxldCBlbCA9IGF3YWl0IGRyaXZlci5lbGVtZW50QnlJZChcImlvLmFwcGl1bS5hbmRyb2lkLmFwaXM6aWQvZHJhZ19kb3RfMVwiKTtcbiAgICAgIGxldCB7eCwgeX0gPSBhd2FpdCBlbC5nZXRMb2NhdGlvbigpO1xuICAgICAgY29uc3QgdG91Y2hBY3Rpb25zID0gW1xuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlck1vdmVcIiwgXCJkdXJhdGlvblwiOiAwLCB4OiB4ICsgMzAsIHk6IHkgKyAzMH0sXG4gICAgICAgIHtcInR5cGVcIjogXCJwb2ludGVyRG93blwiLCBcImJ1dHRvblwiOiAwfSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJNb3ZlXCIsIFwiZHVyYXRpb25cIjogMTAwLCAgeDogeCArIDEwLCB5OiB5ICsgMTB9LFxuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlclVwXCIsIFwiYnV0dG9uXCI6IDB9LFxuICAgICAgXTtcbiAgICAgIGF3YWl0IHBlcmZvcm1Ub3VjaEFjdGlvbih0b3VjaEFjdGlvbnMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0b3VjaCBkb3duIGFuZCB1cCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGVsID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZChcIkFjY2Vzc2liaWxpdHlcIik7XG4gICAgICBsZXQge3gsIHl9ID0gYXdhaXQgZWwuZ2V0TG9jYXRpb24oKTtcbiAgICAgIGNvbnN0IHRvdWNoQWN0aW9ucyA9IFtcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJNb3ZlXCIsIFwiZHVyYXRpb25cIjogMTAwLCB4OiB4ICsgMTAsIHk6IHkgKyAxMH0sXG4gICAgICAgIHtcInR5cGVcIjogXCJwb2ludGVyRG93blwiLCBcImJ1dHRvblwiOiAwfSxcbiAgICAgICAge1widHlwZVwiOiBcInBhdXNlXCIsIFwiZHVyYXRpb25cIjogMzAwMH0sXG4gICAgICAgIHtcInR5cGVcIjogXCJwb2ludGVyVXBcIiwgXCJidXR0b25cIjogMH0sXG4gICAgICBdO1xuICAgICAgYXdhaXQgcGVyZm9ybVRvdWNoQWN0aW9uKHRvdWNoQWN0aW9ucyk7XG4gICAgICBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiQWNjZXNzaWJpbGl0eSBOb2RlIFByb3ZpZGVyXCIpLnNob3VsZC5ldmVudHVhbGx5LmV4aXN0O1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0b3VjaCBkb3duIGFuZCB1cCBvbiBhbiBlbGVtZW50IGJ5IGlkJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZWwgPSBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiQWNjZXNzaWJpbGl0eVwiKTtcbiAgICAgIGNvbnN0IHRvdWNoQWN0aW9ucyA9IFtcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJNb3ZlXCIsIFwiZHVyYXRpb25cIjogMCwgXCJvcmlnaW5cIjoge1wiZWxlbWVudC02MDY2LTExZTQtYTUyZS00ZjczNTQ2NmNlY2ZcIjogZWwudmFsdWV9fSxcbiAgICAgICAge1widHlwZVwiOiBcInBvaW50ZXJEb3duXCIsIFwiYnV0dG9uXCI6IDB9LFxuICAgICAgICB7XCJ0eXBlXCI6IFwicGF1c2VcIiwgXCJkdXJhdGlvblwiOiAxMDB9LFxuICAgICAgICB7XCJ0eXBlXCI6IFwicG9pbnRlclVwXCIsIFwiYnV0dG9uXCI6IDB9LFxuICAgICAgXTtcbiAgICAgIGF3YWl0IHBlcmZvcm1Ub3VjaEFjdGlvbih0b3VjaEFjdGlvbnMpO1xuICAgICAgYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZChcIkFjY2Vzc2liaWxpdHkgTm9kZSBQcm92aWRlclwiKS5zaG91bGQuZXZlbnR1YWxseS5leGlzdDtcblxuICAgICAgLy8gQ2hlY2sgdGhhdCBpdCB0aHJvd3MgYSBzdGFsZSBlbGVtZW50IGV4Y2VwdGlvbiBpZiB3ZSB0cnkgYWdhaW4gb24gdGhlIHNhbWUgZWxlbWVudCBhZnRlciBpdCBoYXMgYmVjb21lIHN0YWxlXG4gICAgICBhd2FpdCBwZXJmb3JtVG91Y2hBY3Rpb24odG91Y2hBY3Rpb25zKS5zaG91bGQuZXZlbnR1YWxseS5iZS5yZWplY3RlZFdpdGgoL25vIGxvbmdlciBleGlzdHMgLyk7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ21qc29ud3AgdG91Y2ggYWN0aW9ucycsIGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgc2Vzc2lvbklkO1xuXG4gICAgaXQoJ3Nob3VsZCBkbyB0b3VjaC9jbGljayBldmVudCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBlbCA9IGF3YWl0IGRyaXZlci5lbGVtZW50QnlBY2Nlc3NpYmlsaXR5SWQoXCJBY2Nlc3NpYmlsaXR5XCIpO1xuICAgICAgc2Vzc2lvbklkID0gYXdhaXQgZHJpdmVyLmdldFNlc3Npb25JZCgpO1xuICAgICAgY29uc3Qge3ZhbHVlOmVsZW1lbnRJZH0gPSBlbDtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICB1cmk6IGBodHRwOi8vJHtIT1NUfToke1BPUlR9L3dkL2h1Yi9zZXNzaW9uLyR7c2Vzc2lvbklkfS90b3VjaC9jbGlja2AsXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBlbGVtZW50OiBlbGVtZW50SWQsXG4gICAgICAgIH0sXG4gICAgICAgIGpzb246IHRydWUsXG4gICAgICB9O1xuICAgICAgYXdhaXQgcmVxdWVzdChvcHRpb25zKTtcbiAgICAgIGF3YWl0IGRyaXZlci5lbGVtZW50QnlBY2Nlc3NpYmlsaXR5SWQoJ0FjY2Vzc2liaWxpdHkgTm9kZSBQcm92aWRlcicpLnNob3VsZC5ldmVudHVhbGx5LmV4aXN0O1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkbyB0b3VjaC9sb25nY2xpY2sgZXZlbnQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgZWwgPSBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiQWNjZXNzaWJpbGl0eVwiKTtcbiAgICAgIHNlc3Npb25JZCA9IGF3YWl0IGRyaXZlci5nZXRTZXNzaW9uSWQoKTtcbiAgICAgIGNvbnN0IHt2YWx1ZTplbGVtZW50SWR9ID0gZWw7XG4gICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgdXJpOiBgaHR0cDovLyR7SE9TVH06JHtQT1JUfS93ZC9odWIvc2Vzc2lvbi8ke3Nlc3Npb25JZH0vdG91Y2gvbG9uZ2NsaWNrYCxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnRJZCxcbiAgICAgICAgfSxcbiAgICAgICAganNvbjogdHJ1ZSxcbiAgICAgIH07XG4gICAgICBhd2FpdCByZXF1ZXN0KG9wdGlvbnMpO1xuICAgICAgYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZCgnQWNjZXNzaWJpbGl0eSBOb2RlIFByb3ZpZGVyJykuc2hvdWxkLmV2ZW50dWFsbHkuZXhpc3Q7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRvIHRvdWNoL2RvdWJsZWNsaWNrIGV2ZW50JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGVsID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZChcIkFjY2Vzc2liaWxpdHlcIik7XG4gICAgICBzZXNzaW9uSWQgPSBhd2FpdCBkcml2ZXIuZ2V0U2Vzc2lvbklkKCk7XG4gICAgICBjb25zdCB7dmFsdWU6ZWxlbWVudElkfSA9IGVsO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHVyaTogYGh0dHA6Ly8ke0hPU1R9OiR7UE9SVH0vd2QvaHViL3Nlc3Npb24vJHtzZXNzaW9uSWR9L3RvdWNoL2RvdWJsZWNsaWNrYCxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnRJZCxcbiAgICAgICAgfSxcbiAgICAgICAganNvbjogdHJ1ZSxcbiAgICAgIH07XG4gICAgICBhd2FpdCByZXF1ZXN0KG9wdGlvbnMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0b3VjaCBkb3duIGF0IGEgbG9jYXRpb24gYW5kIHRoZW4gdG91Y2ggdXAnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBzZXNzaW9uSWQgPSBhd2FpdCBkcml2ZXIuZ2V0U2Vzc2lvbklkKCk7XG4gICAgICBsZXQgZWwgPSBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiQW5pbWF0aW9uXCIpO1xuICAgICAgbGV0IHt4LCB5fSA9IGF3YWl0IGVsLmdldExvY2F0aW9uKCk7XG4gICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgdXJpOiBgaHR0cDovLyR7SE9TVH06JHtQT1JUfS93ZC9odWIvc2Vzc2lvbi8ke3Nlc3Npb25JZH0vdG91Y2gvZG93bmAsXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICB4OiB4ICsgMSxcbiAgICAgICAgICB5OiB5ICsgMSxcbiAgICAgICAgfSxcbiAgICAgICAganNvbjogdHJ1ZSxcbiAgICAgIH07XG4gICAgICBhd2FpdCByZXF1ZXN0KG9wdGlvbnMpO1xuICAgICAgYXdhaXQgQi5kZWxheSgxMDAwKTtcbiAgICAgIGNvbnN0IG9wdGlvbnNUd28gPSB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICB1cmk6IGBodHRwOi8vJHtIT1NUfToke1BPUlR9L3dkL2h1Yi9zZXNzaW9uLyR7c2Vzc2lvbklkfS90b3VjaC91cGAsXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICB4OiB4ICsgMSxcbiAgICAgICAgICB5OiB5ICsgMSxcbiAgICAgICAgfSxcbiAgICAgICAganNvbjogdHJ1ZSxcbiAgICAgIH07XG4gICAgICBhd2FpdCByZXF1ZXN0KG9wdGlvbnNUd28pO1xuICAgICAgYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZChcIkJvdW5jaW5nIEJhbGxzXCIpLnNob3VsZC5ldmVudHVhbGx5LmV4aXN0O1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0b3VjaCBkb3duLCBtb3ZlLCB0b3VjaCB1cCBhbmQgY2F1c2UgYSBzY3JvbGwgZXZlbnQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBhd2FpdCAoYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZChcIlZpZXdzXCIpKS5jbGljaygpO1xuXG4gICAgICBzZXNzaW9uSWQgPSBhd2FpdCBkcml2ZXIuZ2V0U2Vzc2lvbklkKCk7XG4gICAgICBsZXQgZWwgPSBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiR2FsbGVyeVwiKTtcbiAgICAgIGxldCB7eDpzdGFydFgsIHk6c3RhcnRZfSA9IGF3YWl0IGVsLmdldExvY2F0aW9uKCk7XG4gICAgICBlbCA9IGF3YWl0IGRyaXZlci5lbGVtZW50QnlBY2Nlc3NpYmlsaXR5SWQoXCJDb250cm9sc1wiKTtcbiAgICAgIGxldCB7eDplbmRYLCB5OmVuZFl9ID0gYXdhaXQgZWwuZ2V0TG9jYXRpb24oKTtcbiAgICAgIGxldCBvcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgdXJpOiBgaHR0cDovLyR7SE9TVH06JHtQT1JUfS93ZC9odWIvc2Vzc2lvbi8ke3Nlc3Npb25JZH0vdG91Y2gvZG93bmAsXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICB4OiBzdGFydFggKyAxLFxuICAgICAgICAgIHk6IHN0YXJ0WSArIDEsXG4gICAgICAgIH0sXG4gICAgICAgIGpzb246IHRydWUsXG4gICAgICB9O1xuICAgICAgYXdhaXQgcmVxdWVzdChvcHRpb25zKTtcbiAgICAgIGF3YWl0IEIuZGVsYXkoMTAwMCk7XG5cbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICB1cmk6IGBodHRwOi8vJHtIT1NUfToke1BPUlR9L3dkL2h1Yi9zZXNzaW9uLyR7c2Vzc2lvbklkfS90b3VjaC9tb3ZlYCxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgIHg6IGVuZFggKyAxLFxuICAgICAgICAgIHk6IGVuZFkgKyAxLFxuICAgICAgICB9LFxuICAgICAgICBqc29uOiB0cnVlLFxuICAgICAgfTtcbiAgICAgIGF3YWl0IHJlcXVlc3Qob3B0aW9ucyk7XG4gICAgICBhd2FpdCBCLmRlbGF5KDEwMDApO1xuXG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgdXJpOiBgaHR0cDovLyR7SE9TVH06JHtQT1JUfS93ZC9odWIvc2Vzc2lvbi8ke3Nlc3Npb25JZH0vdG91Y2gvdXBgLFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgeDogZW5kWCArIDEsXG4gICAgICAgICAgeTogZW5kWSArIDEsXG4gICAgICAgIH0sXG4gICAgICAgIGpzb246IHRydWUsXG4gICAgICB9O1xuICAgICAgYXdhaXQgcmVxdWVzdChvcHRpb25zKTtcbiAgICAgIGF3YWl0IGRyaXZlci5lbGVtZW50QnlBY2Nlc3NpYmlsaXR5SWQoXCJIb3ZlciBFdmVudHNcIikuc2hvdWxkLmV2ZW50dWFsbHkuZXhpc3Q7XG5cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2Nyb2xsIG9uIGFuIGVsZW1lbnQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBhd2FpdCAoYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZChcIlZpZXdzXCIpKS5jbGljaygpO1xuXG4gICAgICBzZXNzaW9uSWQgPSBhd2FpdCBkcml2ZXIuZ2V0U2Vzc2lvbklkKCk7XG4gICAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHVyaTogYGh0dHA6Ly8ke0hPU1R9OiR7UE9SVH0vd2QvaHViL3Nlc3Npb24vJHtzZXNzaW9uSWR9L3RvdWNoL3Njcm9sbGAsXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAvL2VsZW1lbnQ6IGVsLnZhbHVlLFxuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogLTMwMCxcbiAgICAgICAgfSxcbiAgICAgICAganNvbjogdHJ1ZSxcbiAgICAgIH07XG4gICAgICBhd2FpdCByZXF1ZXN0KG9wdGlvbnMpO1xuICAgICAgYXdhaXQgQi5kZWxheSgxMDAwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ21qc29ud3AgdG91Y2ggYWN0aW9ucycsIGZ1bmN0aW9uICgpIHtcbiAgICBkZXNjcmliZSgnbXVsdGkgdG91Y2ggYWN0aW9ucycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGl0KCdzaG91bGQgcGVyZm9ybSBzaW5nbGUgdGFwL3ByZXNzL2xvbmdQcmVzcyBhY3Rpb25zJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKGxldCBtZXRob2Qgb2YgWyd0YXAnLCAncHJlc3MnLCAnbG9uZ1ByZXNzJ10pIHtcbiAgICAgICAgICBsZXQgYWN0aW9uID0gbmV3IHdkLlRvdWNoQWN0aW9uKCk7XG4gICAgICAgICAgY29uc3QgZWwgPSBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiQWNjZXNzaWJpbGl0eVwiKTtcbiAgICAgICAgICBsZXQge3gsIHl9ID0gYXdhaXQgZWwuZ2V0TG9jYXRpb24oKTtcbiAgICAgICAgICBhY3Rpb25bbWV0aG9kXSh7eDogeCArIDEwLCB5OiB5ICsgMTB9KTtcbiAgICAgICAgICBhY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgICAgIGxldCBtdWx0aUFjdGlvbiA9IG5ldyB3ZC5NdWx0aUFjdGlvbihkcml2ZXIpO1xuICAgICAgICAgIG11bHRpQWN0aW9uLmFkZChhY3Rpb24pO1xuICAgICAgICAgIG11bHRpQWN0aW9uLnBlcmZvcm0oKTtcbiAgICAgICAgICBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiQWNjZXNzaWJpbGl0eSBOb2RlIFByb3ZpZGVyXCIpLnNob3VsZC5ldmVudHVhbGx5LmV4aXN0O1xuICAgICAgICAgIGF3YWl0IGRyaXZlci5iYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHBlcmZvcm0gc2luZ2xlIHRhcC9wcmVzcy9sb25nUHJlc3MgYWN0aW9ucyBvbiBhbiBlbGVtZW50JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKGxldCBtZXRob2Qgb2YgWyd0YXAnLCAncHJlc3MnLCAnbG9uZ1ByZXNzJ10pIHtcbiAgICAgICAgICBsZXQgYWN0aW9uID0gbmV3IHdkLlRvdWNoQWN0aW9uKCk7XG4gICAgICAgICAgY29uc3QgZWwgPSBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiQW5pbWF0aW9uXCIpO1xuICAgICAgICAgIGFjdGlvblttZXRob2RdKHtlbH0pO1xuICAgICAgICAgIGFjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgICAgbGV0IG11bHRpQWN0aW9uID0gbmV3IHdkLk11bHRpQWN0aW9uKGRyaXZlcik7XG4gICAgICAgICAgbXVsdGlBY3Rpb24uYWRkKGFjdGlvbik7XG4gICAgICAgICAgbXVsdGlBY3Rpb24ucGVyZm9ybSgpO1xuICAgICAgICAgIGF3YWl0IGRyaXZlci5lbGVtZW50QnlBY2Nlc3NpYmlsaXR5SWQoXCJCb3VuY2luZyBCYWxsc1wiKS5zaG91bGQuZXZlbnR1YWxseS5leGlzdDtcbiAgICAgICAgICBhd2FpdCBkcml2ZXIuYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCd0b3VjaCBhY3Rpb25zJywgZnVuY3Rpb24gKCkge1xuICAgICAgaXQoJ3Nob3VsZCBwZXJmb3JtIHNpbmdsZSB0YXAvcHJlc3MvbG9uZ1ByZXNzIGFjdGlvbnMnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAobGV0IG1ldGhvZCBvZiBbJ3RhcCcsICdwcmVzcycsICdsb25nUHJlc3MnXSkge1xuICAgICAgICAgIGxldCBhY3Rpb24gPSBuZXcgd2QuVG91Y2hBY3Rpb24oZHJpdmVyKTtcbiAgICAgICAgICBjb25zdCBlbCA9IGF3YWl0IGRyaXZlci5lbGVtZW50QnlBY2Nlc3NpYmlsaXR5SWQoXCJBY2Nlc3NpYmlsaXR5XCIpO1xuICAgICAgICAgIGxldCB7eCwgeX0gPSBhd2FpdCBlbC5nZXRMb2NhdGlvbigpO1xuICAgICAgICAgIGFjdGlvblttZXRob2RdKHt4OiB4ICsgMTAsIHk6IHkgKyAxMH0pO1xuICAgICAgICAgIGFjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgICAgYWN0aW9uLnBlcmZvcm0oKTtcbiAgICAgICAgICBhd2FpdCBkcml2ZXIuZWxlbWVudEJ5QWNjZXNzaWJpbGl0eUlkKFwiQWNjZXNzaWJpbGl0eSBOb2RlIFByb3ZpZGVyXCIpLnNob3VsZC5ldmVudHVhbGx5LmV4aXN0O1xuICAgICAgICAgIGF3YWl0IGRyaXZlci5iYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaXQoJ3Nob3VsZCBwZXJmb3JtIHNpbmdsZSB0YXAvcHJlc3MvbG9uZ1ByZXNzIGFjdGlvbnMgb24gYW4gZWxlbWVudCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yIChsZXQgbWV0aG9kIG9mIFsndGFwJywgJ3ByZXNzJywgJ2xvbmdQcmVzcyddKSB7XG4gICAgICAgICAgbGV0IGFjdGlvbiA9IG5ldyB3ZC5Ub3VjaEFjdGlvbihkcml2ZXIpO1xuICAgICAgICAgIGNvbnN0IGVsID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZChcIkFuaW1hdGlvblwiKTtcbiAgICAgICAgICBhY3Rpb25bbWV0aG9kXSh7ZWx9KTtcbiAgICAgICAgICBhY3Rpb24ucmVsZWFzZSgpO1xuICAgICAgICAgIGFjdGlvbi5wZXJmb3JtKCk7XG4gICAgICAgICAgYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZChcIkJvdW5jaW5nIEJhbGxzXCIpLnNob3VsZC5ldmVudHVhbGx5LmV4aXN0O1xuICAgICAgICAgIGF3YWl0IGRyaXZlci5iYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaXQoJ3Nob3VsZCBwZXJmb3JtIGEgc2Nyb2xsIGV2ZW50JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBhd2FpdCAoYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZCgnVmlld3MnKSkuY2xpY2soKTtcbiAgICAgICAgbGV0IGFjdGlvbiA9IG5ldyB3ZC5Ub3VjaEFjdGlvbihkcml2ZXIpO1xuICAgICAgICBjb25zdCBzdGFydEVsID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZChcIkdhbGxlcnlcIik7XG4gICAgICAgIGNvbnN0IGVuZEVsID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRCeUFjY2Vzc2liaWxpdHlJZChcIkJ1dHRvbnNcIik7XG4gICAgICAgIGFjdGlvbi5wcmVzcyh7ZWw6IHN0YXJ0RWx9KTtcbiAgICAgICAgYWN0aW9uLm1vdmVUbyh7ZWw6IGVuZEVsfSk7XG4gICAgICAgIGFjdGlvbi5yZWxlYXNlKCk7XG4gICAgICAgIGFjdGlvbi5wZXJmb3JtKCk7XG4gICAgICAgIGF3YWl0IGRyaXZlci5lbGVtZW50QnlBY2Nlc3NpYmlsaXR5SWQoXCJJbWFnZVZpZXdcIikuc2hvdWxkLmV2ZW50dWFsbHkuZXhpc3Q7XG4gICAgICAgIGF3YWl0IGRyaXZlci5iYWNrKCk7XG4gICAgICB9KTtcbiAgICAgIGl0KCdzaG91bGQgZG8gbXVsdGlwbGUgc2Nyb2xscyBvbiBtdWx0aXBsZSB2aWV3cycsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXdhaXQgZHJpdmVyLnN0YXJ0QWN0aXZpdHkoe2FwcEFjdGl2aXR5OiAnLnZpZXcuU3BsaXRUb3VjaFZpZXcnLCBhcHBQYWNrYWdlOiAnaW8uYXBwaXVtLmFuZHJvaWQuYXBpcyd9KTtcbiAgICAgICAgbGV0IFtsZWZ0RWwsIHJpZ2h0RWxdID0gYXdhaXQgZHJpdmVyLmVsZW1lbnRzQnlDbGFzc05hbWUoJ2FuZHJvaWQud2lkZ2V0Lkxpc3RWaWV3Jyk7XG4gICAgICAgIGNvbnN0IGxlZnRHZXN0dXJlID0gbmV3IHdkLlRvdWNoQWN0aW9uKClcbiAgICAgICAgICAucHJlc3Moe2VsZW1lbnQ6IGxlZnRFbH0pXG4gICAgICAgICAgLm1vdmVUbyh7ZWxlbWVudDogbGVmdEVsLCB4OiAxMCwgeTogMH0pXG4gICAgICAgICAgLm1vdmVUbyh7ZWxlbWVudDogbGVmdEVsLCB4OiAxMCwgeTogLTI1fSlcbiAgICAgICAgICAubW92ZVRvKHtlbGVtZW50OiBsZWZ0RWwsIHg6IDEwLCB5OiAtNTB9KVxuICAgICAgICAgIC5tb3ZlVG8oe2VsZW1lbnQ6IGxlZnRFbCwgeDogMTAsIHk6IC03NX0pXG4gICAgICAgICAgLm1vdmVUbyh7ZWxlbWVudDogbGVmdEVsLCB4OiAxMCwgeTogLTEwMH0pXG4gICAgICAgICAgLm1vdmVUbyh7ZWxlbWVudDogbGVmdEVsLCB4OiAxMCwgeTogLTEyNX0pXG4gICAgICAgICAgLm1vdmVUbyh7ZWxlbWVudDogbGVmdEVsLCB4OiAxMCwgeTogLTUwMH0pO1xuXG4gICAgICAgIGNvbnN0IHJpZ2h0R2VzdHVyZSA9IG5ldyB3ZC5Ub3VjaEFjdGlvbigpXG4gICAgICAgICAgLnByZXNzKHtlbGVtZW50OiByaWdodEVsfSlcbiAgICAgICAgICAubW92ZVRvKHtlbGVtZW50OiByaWdodEVsLCB4OiAxMCwgeTogMH0pXG4gICAgICAgICAgLm1vdmVUbyh7ZWxlbWVudDogcmlnaHRFbCwgeDogMTAsIHk6IC0yNX0pXG4gICAgICAgICAgLm1vdmVUbyh7ZWxlbWVudDogcmlnaHRFbCwgeDogMTAsIHk6IC01MH0pXG4gICAgICAgICAgLm1vdmVUbyh7ZWxlbWVudDogcmlnaHRFbCwgeDogMTAsIHk6IC03NX0pXG4gICAgICAgICAgLm1vdmVUbyh7ZWxlbWVudDogcmlnaHRFbCwgeDogMTAsIHk6IC0xMDB9KVxuICAgICAgICAgIC5tb3ZlVG8oe2VsZW1lbnQ6IHJpZ2h0RWwsIHg6IDEwLCB5OiAtMTI1fSlcbiAgICAgICAgICAubW92ZVRvKHtlbGVtZW50OiByaWdodEVsLCB4OiAxMCwgeTogLTUwMH0pO1xuXG4gICAgICAgIGNvbnN0IG11bHRpQWN0aW9uID0gbmV3IHdkLk11bHRpQWN0aW9uKCk7XG4gICAgICAgIG11bHRpQWN0aW9uLmFkZChsZWZ0R2VzdHVyZSwgcmlnaHRHZXN0dXJlKTtcblxuICAgICAgICBhd2FpdCBkcml2ZXIucGVyZm9ybU11bHRpQWN0aW9uKG11bHRpQWN0aW9uKTtcbiAgICAgICAgYXdhaXQgQi5kZWxheSg1MDAwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIuLi8uLi8uLi8uLiJ9
